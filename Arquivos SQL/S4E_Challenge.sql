Create database S4E_Challenge;

CREATE TABLE T_ASSOC
(
    ID INT PRIMARY KEY IDENTITY(1,1),
    A_NAME VARCHAR(200) NOT NULL,
    A_CPF VARCHAR(11) NOT NULL,
    A_BIRTH DATETIME,
    CONSTRAINT UQ_CPF UNIQUE (A_CPF)
);

CREATE TABLE T_COMP
(
    ID INT PRIMARY KEY IDENTITY(1,1), 
    C_NAME VARCHAR(200) NOT NULL,
    C_CNPJ VARCHAR(14) NOT NULL,
    CONSTRAINT UQ_CNPJ UNIQUE (C_CNPJ)
);

CREATE TABLE T_REL
(
    ID INT PRIMARY KEY IDENTITY(1,1),
    A_ID INT,
    C_ID INT,
    CONSTRAINT FK_REL_ASSOC FOREIGN KEY (A_ID) REFERENCES T_ASSOC(ID),
    CONSTRAINT FK_REL_COMP FOREIGN KEY (C_ID) REFERENCES T_COMP(ID)
);
